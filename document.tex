\documentclass[a4paper]{exam}

\directlua{if arg[8] == "answers" then tex.print("\\printanswers") end}

\input{preamble}

\begin{document}

\begin{luacode*}
matriculationNumber = arg[5] or 0
firstName = arg[6] or "First name"
lastName = arg[7] or "Last name"

-- use the same seed for each assignment
-- so that compiling the file twice (once with
-- and one time without solutions) does not
-- create new random variables

-- seed the random generator with the matriculation number
math.randomseed(matriculationNumber)
\end{luacode*}

\noindent
Matriculation number: \directlua{tex.print(matriculationNumber)}\\
Student name: \directlua{tex.print(firstName .. " " .. lastName)}

\begin{questions}

\input{taskpool/task_calculus_segment}
\input{taskpool/task_derivatives}
\input{taskpool/task_eigenvalues.tex}

\end{questions}

\end{document}
